{"remainingRequest":"D:\\FRAMEWORK\\vue-vuex-jwt-auth\\node_modules\\babel-loader\\lib\\index.js!D:\\FRAMEWORK\\vue-vuex-jwt-auth\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\FRAMEWORK\\vue-vuex-jwt-auth\\src\\store\\auth.module.js","dependencies":[{"path":"D:\\FRAMEWORK\\vue-vuex-jwt-auth\\src\\store\\auth.module.js","mtime":1586741088124},{"path":"D:\\FRAMEWORK\\vue-vuex-jwt-auth\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\FRAMEWORK\\vue-vuex-jwt-auth\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\FRAMEWORK\\vue-vuex-jwt-auth\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import AuthService from \"../services/auth.service\";\nvar user = JSON.parse(localStorage.getItem('user'));\nvar initialState = user ? {\n  status: {\n    loggedIn: true\n  },\n  user: user\n} : {\n  status: {\n    loggedIn: false\n  },\n  user: null\n};\nexport var auth = {\n  namespaced: true,\n  state: initialState,\n  actions: {\n    login: function login(_ref, user) {\n      var commit = _ref.commit;\n      return AuthService.login(user).then(function (user) {\n        commit('loginSuccess', user);\n        return Promise.resolve(user);\n      }, function (error) {\n        commit('loginFailure');\n        return Promise.reject(error);\n      });\n    },\n    logout: function logout(_ref2) {\n      var commit = _ref2.commit;\n      AuthService.logout();\n      commit('logout');\n    },\n    register: function register(_ref3, user) {\n      var commit = _ref3.commit;\n      return AuthService.register(user).then(function (response) {\n        commit('registerSuccess');\n        return Promise.resolve(response.data);\n      }, function (error) {\n        commit('registerFailure');\n        return Promise.reject(error);\n      });\n    }\n  },\n  mutations: {\n    loginSuccess: function loginSuccess(state, user) {\n      state.status.loggedIn = true;\n      state.user = user;\n    },\n    loginFailure: function loginFailure(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    logout: function logout(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    registerSuccess: function registerSuccess(state) {\n      state.status.loggedIn = false;\n    },\n    registerFailure: function registerFailure(state) {\n      state.status.loggedIn = false;\n    }\n  }\n};",{"version":3,"sources":["D:/FRAMEWORK/vue-vuex-jwt-auth/src/store/auth.module.js"],"names":["AuthService","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","auth","namespaced","state","actions","login","commit","then","Promise","resolve","error","reject","logout","register","response","data","mutations","loginSuccess","loginFailure","registerSuccess","registerFailure"],"mappings":"AAAA,OAAOA,WAAP;AAEA,IAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,IAAMC,YAAY,GAAGL,IAAI,GACrB;AAAEM,EAAAA,MAAM,EAAE;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAV;AAA8BP,EAAAA,IAAI,EAAJA;AAA9B,CADqB,GAErB;AAAEM,EAAAA,MAAM,EAAE;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAV;AAA+BP,EAAAA,IAAI,EAAE;AAArC,CAFJ;AAIA,OAAO,IAAMQ,IAAI,GAAG;AAClBC,EAAAA,UAAU,EAAE,IADM;AAElBC,EAAAA,KAAK,EAAEL,YAFW;AAGlBM,EAAAA,OAAO,EAAE;AACPC,IAAAA,KADO,uBACWZ,IADX,EACiB;AAAA,UAAhBa,MAAgB,QAAhBA,MAAgB;AACtB,aAAOd,WAAW,CAACa,KAAZ,CAAkBZ,IAAlB,EAAwBc,IAAxB,CACL,UAAAd,IAAI,EAAI;AACNa,QAAAA,MAAM,CAAC,cAAD,EAAiBb,IAAjB,CAAN;AACA,eAAOe,OAAO,CAACC,OAAR,CAAgBhB,IAAhB,CAAP;AACD,OAJI,EAKL,UAAAiB,KAAK,EAAI;AACPJ,QAAAA,MAAM,CAAC,cAAD,CAAN;AACA,eAAOE,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;AACD,OARI,CAAP;AAUD,KAZM;AAaPE,IAAAA,MAbO,yBAaY;AAAA,UAAVN,MAAU,SAAVA,MAAU;AACjBd,MAAAA,WAAW,CAACoB,MAAZ;AACAN,MAAAA,MAAM,CAAC,QAAD,CAAN;AACD,KAhBM;AAiBPO,IAAAA,QAjBO,2BAiBcpB,IAjBd,EAiBoB;AAAA,UAAhBa,MAAgB,SAAhBA,MAAgB;AACzB,aAAOd,WAAW,CAACqB,QAAZ,CAAqBpB,IAArB,EAA2Bc,IAA3B,CACL,UAAAO,QAAQ,EAAI;AACVR,QAAAA,MAAM,CAAC,iBAAD,CAAN;AACA,eAAOE,OAAO,CAACC,OAAR,CAAgBK,QAAQ,CAACC,IAAzB,CAAP;AACD,OAJI,EAKL,UAAAL,KAAK,EAAI;AACPJ,QAAAA,MAAM,CAAC,iBAAD,CAAN;AACA,eAAOE,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;AACD,OARI,CAAP;AAUD;AA5BM,GAHS;AAiClBM,EAAAA,SAAS,EAAE;AACTC,IAAAA,YADS,wBACId,KADJ,EACWV,IADX,EACiB;AACxBU,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,IAAxB;AACAG,MAAAA,KAAK,CAACV,IAAN,GAAaA,IAAb;AACD,KAJQ;AAKTyB,IAAAA,YALS,wBAKIf,KALJ,EAKW;AAClBA,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;AACAG,MAAAA,KAAK,CAACV,IAAN,GAAa,IAAb;AACD,KARQ;AASTmB,IAAAA,MATS,kBASFT,KATE,EASK;AACZA,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;AACAG,MAAAA,KAAK,CAACV,IAAN,GAAa,IAAb;AACD,KAZQ;AAaT0B,IAAAA,eAbS,2BAaOhB,KAbP,EAac;AACrBA,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;AACD,KAfQ;AAgBToB,IAAAA,eAhBS,2BAgBOjB,KAhBP,EAgBc;AACrBA,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;AACD;AAlBQ;AAjCO,CAAb","sourcesContent":["import AuthService from '../services/auth.service';\r\n\r\nconst user = JSON.parse(localStorage.getItem('user'));\r\nconst initialState = user\r\n  ? { status: { loggedIn: true }, user }\r\n  : { status: { loggedIn: false }, user: null };\r\n\r\nexport const auth = {\r\n  namespaced: true,\r\n  state: initialState,\r\n  actions: {\r\n    login({ commit }, user) {\r\n      return AuthService.login(user).then(\r\n        user => {\r\n          commit('loginSuccess', user);\r\n          return Promise.resolve(user);\r\n        },\r\n        error => {\r\n          commit('loginFailure');\r\n          return Promise.reject(error);\r\n        }\r\n      );\r\n    },\r\n    logout({ commit }) {\r\n      AuthService.logout();\r\n      commit('logout');\r\n    },\r\n    register({ commit }, user) {\r\n      return AuthService.register(user).then(\r\n        response => {\r\n          commit('registerSuccess');\r\n          return Promise.resolve(response.data);\r\n        },\r\n        error => {\r\n          commit('registerFailure');\r\n          return Promise.reject(error);\r\n        }\r\n      );\r\n    }\r\n  },\r\n  mutations: {\r\n    loginSuccess(state, user) {\r\n      state.status.loggedIn = true;\r\n      state.user = user;\r\n    },\r\n    loginFailure(state) {\r\n      state.status.loggedIn = false;\r\n      state.user = null;\r\n    },\r\n    logout(state) {\r\n      state.status.loggedIn = false;\r\n      state.user = null;\r\n    },\r\n    registerSuccess(state) {\r\n      state.status.loggedIn = false;\r\n    },\r\n    registerFailure(state) {\r\n      state.status.loggedIn = false;\r\n    }\r\n  }\r\n};\r\n"]}]}